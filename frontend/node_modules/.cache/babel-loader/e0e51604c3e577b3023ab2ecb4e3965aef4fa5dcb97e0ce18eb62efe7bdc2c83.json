{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8000/api/auth';\nexport const register = async (username, email, password) => {\n  try {\n    const response = await axios.post(`${API_URL}/register`, {\n      username,\n      email,\n      password\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Registration error:', error);\n    throw error;\n  }\n};\nexport const login = async (username, password) => {\n  try {\n    const response = await axios.post(`${API_URL}/login`, `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    if (response.data.access_token) {\n      localStorage.setItem('token', response.data.access_token);\n    }\n    return response.data;\n  } catch (error) {\n    console.error('Login error:', error);\n    throw error;\n  }\n};\nexport const logout = () => {\n  localStorage.removeItem('token');\n};","map":{"version":3,"names":["axios","API_URL","register","username","email","password","response","post","headers","data","error","console","login","encodeURIComponent","access_token","localStorage","setItem","logout","removeItem"],"sources":["C:/TesCode/aichat/frontend/src/services/authService.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8000/api/auth';\r\n\r\nexport const register = async (username: string, email: string, password: string) => {\r\n    try {\r\n        const response = await axios.post(`${API_URL}/register`, {\r\n            username,\r\n            email,\r\n            password\r\n        }, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Registration error:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const login = async (username: string, password: string) => {\r\n    try {\r\n        const response = await axios.post(\r\n            `${API_URL}/login`,\r\n            `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            }\r\n        );\r\n        \r\n        if (response.data.access_token) {\r\n            localStorage.setItem('token', response.data.access_token);\r\n        }\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Login error:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const logout = () => {\r\n    localStorage.removeItem('token');\r\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,gCAAgC;AAEhD,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,KAAa,EAAEC,QAAgB,KAAK;EACjF,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,GAAGN,OAAO,WAAW,EAAE;MACrDE,QAAQ;MACRC,KAAK;MACLC;IACJ,CAAC,EAAE;MACCG,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,OAAOF,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,MAAMA,KAAK;EACf;AACJ,CAAC;AAED,OAAO,MAAME,KAAK,GAAG,MAAAA,CAAOT,QAAgB,EAAEE,QAAgB,KAAK;EAC/D,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAC7B,GAAGN,OAAO,QAAQ,EAClB,YAAYY,kBAAkB,CAACV,QAAQ,CAAC,aAAaU,kBAAkB,CAACR,QAAQ,CAAC,EAAE,EACnF;MACIG,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CACJ,CAAC;IAED,IAAIF,QAAQ,CAACG,IAAI,CAACK,YAAY,EAAE;MAC5BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEV,QAAQ,CAACG,IAAI,CAACK,YAAY,CAAC;IAC7D;IACA,OAAOR,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACpC,MAAMA,KAAK;EACf;AACJ,CAAC;AAED,OAAO,MAAMO,MAAM,GAAGA,CAAA,KAAM;EACxBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;AACpC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}